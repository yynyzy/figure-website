import{d as P,y as b,s as B,z as A,r as u,e as z,c as o,a as t,t as a,F as D,i as N,f as d,o as r,_ as S}from"./index-3b82e300.js";import{Y as g}from"./Yixiv-30bec923.js";import{p as F}from"./pictureBox-6463618b.js";import{n as T}from"./noWorks-aa541e5e.js";const U={class:"wrapper"},V={class:"header"},Y={class:"content"},j={class:"profile"},E=["src"],L={class:"info"},R=["textContent"],W={class:"desc"},$=["textContent"],q=["href"],G={class:"inner-box"},H={class:"wrapper"},J=["textContent"],K={key:0,class:"illust-content"},M={key:1,class:"not-found"},O={class:"pagination"},f=24,Q=P({__name:"author",setup(X){const{setNavigationBarActiveIndex:y}=b();y(-1);const p={PID:"P站：",illustTitle:"#作品列表"},x=B(),{userId:c}=x.params,h=Array.isArray(c)?c[0]:c,e=A({avatar:"",nick_name:"",user_id:"",desc:""}),C=async()=>{try{const{rows:n}=await g.searchUser(h),s=n[0];e.avatar=s.avatar,e.desc=s.desc,e.nick_name=s.nick_name,e.user_id=s.user_id}catch{}},i=u(1),v=u(0),l=u([]),m=async()=>{const n={author_user_id:h,offset:i.value-1,limit:f,sort:"new",type:0};try{const{count:s,rows:_}=await g.getPublicPicture(n);l.value=_,v.value=s}catch{}},k=n=>{i.value=n,m()};return(async()=>{C(),m()})(),(n,s)=>{const _=z("el-pagination");return r(),o("section",U,[t("header",V,[t("div",Y,[t("div",j,[t("img",{src:e.avatar},null,8,E)]),t("div",L,[t("div",{class:"name",textContent:a(e.nick_name)},null,8,R),t("div",W,[t("p",{textContent:a(e.desc)},null,8,$)])])]),t("a",{class:"pid",target:"_blank",href:`https://www.pixiv.net/users/${e.user_id}`},a(p.PID)+" "+a(e.user_id),9,q)]),t("main",G,[t("div",H,[t("h2",{class:"title",textContent:a(p.illustTitle)},null,8,J),l.value.length?(r(),o("ul",K,[(r(!0),o(D,null,N(l.value,(w,I)=>(r(),o("li",{class:"illust",key:I},[d(F,{item:w},null,8,["item"])]))),128))])):(r(),o("div",M,[d(T)])),t("div",O,[d(_,{style:{justifyContent:"center"},background:"",layout:"prev, pager, next","current-page":i.value,total:v.value,"page-size":f,onCurrentChange:k},null,8,["current-page","total"])])])])])}}});const ot=S(Q,[["__scopeId","data-v-9582b917"]]);export{ot as default};
